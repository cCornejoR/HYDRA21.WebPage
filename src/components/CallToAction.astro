<!-- ————————————————————————————————————————
  CallToAction.astro – Componente motivacional con icosahedron
  Optimizado para Desktop, Tablets y Móviles (≥400px y <400px)
———————————————————————————————————————— -->

<section class="relative overflow-hidden bg-gradient-to-br from-gray-900 via-black to-blue-900/80 py-16 sm:py-20 lg:py-24">

  <!-- Smooth transition gradients para integrar con secciones adyacentes -->
  <div class="absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-black via-black/80 to-transparent z-0"></div>
  <div class="absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-black/95 via-black/60 to-transparent z-0"></div>

  <!-- Grid background pattern (opacidad baja) -->
  <div class="absolute inset-0 opacity-20 z-0">
    <div class="grid-pattern"></div>
  </div>

  <!-- Elementos decorativos: círculos pulsantes -->
  <div class="absolute top-10 left-10 w-32 h-32 bg-blue-500/10 rounded-full blur-xl animate-pulse-slow z-0"></div>
  <div class="absolute bottom-10 right-10 w-48 h-48 bg-cyan-500/10 rounded-full blur-2xl animate-pulse-slow" style="animation-delay: -3s;" class="z-0"></div>

  <!-- Contenedor principal (z-index 10 para estar por delante de gradientes y patrón) -->
  <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <div class="flex flex-col lg:flex-row items-center justify-center lg:justify-between gap-12 lg:gap-16">
      
      <!-- Texto + Botones + Stats (ocupa todo el ancho en móvil, auto en desktop) -->
      <div class="flex-1 w-full lg:w-auto text-center lg:text-left space-y-6" transition:name="cta-content">
        <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-white leading-tight" transition:name="cta-title">
          ¡Es hora de 
          <span class="gradient-text-blue-cyan">revolucionar</span> 
          tu ingeniería!
        </h2>
        
        <p class="text-lg sm:text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto lg:mx-0" transition:name="cta-description">
          No esperes más para experimentar el poder de HYDRA²¹. Únete a miles de ingenieros que ya han transformado su flujo de trabajo con nuestras herramientas de vanguardia.
        </p>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start" transition:name="cta-buttons">
          <a
            href="/descargas"
            class="btn-primary"
          >
            <div class="circle"></div>
            <svg class="arr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
            </svg>
            <span class="text">Descargar Ahora</span>
            <svg class="arr-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
            </svg>
          </a>

          <a
            href="#caracteristicas"
            class="btn-secondary"
          >
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
            </svg>
            Ver Características
          </a>
        </div>
        
        <!-- Estadísticas / Indicadores de confianza -->
        <div class="flex flex-wrap gap-8 justify-center lg:justify-start pt-6" transition:name="cta-stats">
          <div class="text-center">
            <div class="text-2xl font-bold text-cyan-400">10K+</div>
            <div class="text-sm text-gray-400">Proyectos Completados</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-bold text-blue-400">50+</div>
            <div class="text-sm text-gray-400">Países</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-bold text-purple-400">99.9%</div>
            <div class="text-sm text-gray-400">Tiempo Activo</div>
          </div>
        </div>
      </div>
      
      <!-- Icosahedron Image (ocupa todo el ancho en móvil, auto en desktop; centrado en móvil, derecha en desktop) -->
      <div class="flex-shrink-0 w-full lg:w-auto flex justify-center lg:justify-end mt-8 lg:mt-0 relative" transition:name="cta-icosahedron">
        <div class="relative">
          <!-- Glow detrás de la imagen -->
          <div class="absolute inset-0 bg-gradient-to-r from-blue-500/30 via-cyan-500/40 to-purple-500/30 rounded-full blur-xl scale-110"></div>
          
          <!-- Imagen principal con rotación suave -->
          <img
            src="/assets/images/icosahedron_2.png"
            alt="HYDRA²¹ Icosahedron"
            class="relative z-10 w-64 h-64 sm:w-80 sm:h-80 lg:w-96 lg:h-96 object-contain drop-shadow-2xl animate-spin-slow"
            transition:name="icosahedron-image"
          />
          
          <!-- Partículas flotantes -->
          <div class="absolute top-1/4 left-1/4 w-2 h-2 bg-cyan-400 rounded-full animate-ping opacity-75"></div>
          <div class="absolute top-3/4 right-1/4 w-1.5 h-1.5 bg-blue-400 rounded-full animate-ping opacity-75" style="animation-delay: -1s;"></div>
          <div class="absolute bottom-1/4 left-3/4 w-1 h-1 bg-purple-400 rounded-full animate-ping opacity-75" style="animation-delay: -2s;"></div>
          <div class="absolute top-1/2 right-1/2 w-1.5 h-1.5 bg-emerald-400 rounded-full animate-ping opacity-50" style="animation-delay: -0.5s;"></div>
        </div>
      </div>
      
    </div>
  </div>
</section>



<style>
/* ——————————————————————————————————————————————
   Grid pattern background
————————————————————————————————————————————— */
.grid-pattern {
  background-image: 
    linear-gradient(rgba(59, 130, 246, 0.1) 1px, transparent 1px),
    linear-gradient(90deg, rgba(59, 130, 246, 0.1) 1px, transparent 1px);
  background-size: 40px 40px;
  background-position: 0 0, 0 0;
  width: 100%;
  height: 100%;
  animation: grid-move 20s linear infinite;
}
@keyframes grid-move {
  0% {
    transform: translate(0, 0);
  }
  100% {
    transform: translate(40px, 40px);
  }
}

/* ——————————————————————————————————————————————
   Rotación lenta para el icosaedro
————————————————————————————————————————————— */
@keyframes spin-slow {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.animate-spin-slow {
  animation: spin-slow 20s linear infinite;
}

/* ——————————————————————————————————————————————
   Texto con degradado azul→cyan→purple
————————————————————————————————————————————— */
.gradient-text-blue-cyan {
  background: linear-gradient(135deg, #60a5fa 0%, #06b6d4 50%, #8b5cf6 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(0 0 12px rgba(59, 130, 246, 0.4));
}

/* ——————————————————————————————————————————————
   Pulsación lenta para elementos decorativos
————————————————————————————————————————————— */
@keyframes pulse-slow {
  0%, 100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}
.animate-pulse-slow {
  animation: pulse-slow 4s ease-in-out infinite;
}

/* ——————————————————————————————————————————————
   Estilos base del <section> para integración suave
————————————————————————————————————————————— */
section {
  position: relative;
}
section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent 0%, rgba(59, 130, 246, 0.3) 50%, transparent 100%);
  z-index: 20;
}
section::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent 0%, rgba(6, 182, 212, 0.3) 50%, transparent 100%);
  z-index: 20;
}

/* ——————————————————————————————————————————————
   TORUS y ELEMENTOS DECORATIVOS DE FONDO (para garantizar z-order)
————————————————————————————————————————————— */
/* Los círculos difusos (pulse-slow) y el patrón de grid ya están definidos arriba con z-index:0 */


/* ——————————————————————————————————————————————
   AJUSTES RESPONSIVOS
————————————————————————————————————————————— */
/* Móviles muy pequeños (<640px) */
@media (max-width: 640px) {
  .grid-pattern {
    background-size: 20px 20px;
  }
  @keyframes grid-move {
    0% { transform: translate(0, 0); }
    100% { transform: translate(20px, 20px); }
  }
  /* Rotación más lenta en móviles para performance */
  .animate-spin-slow {
    animation: spin-slow 30s linear infinite;
  }
}

/* Ajustes “finos” para pantallas <400px (opcional si deseas aún más reducción) */
@media (max-width: 400px) {
  /* Hacemos que el icosaedro sea más grande en móviles muy estrechos */
  .animate-spin-slow {
    width: 250px !important;
    height: 250px !important;
  }

  /* Si quieres mantener las reducciones de padding y fuentes, las dejas tal cual: */
  section {
    padding-top: 3rem !important;
    padding-bottom: 3rem !important;
  }
  h2 {
    font-size: 1.5rem !important;    /* ≈24px */
    line-height: 2rem !important;    /* ≈32px */
  }
  p {
    font-size: 0.875rem !important;  /* ≈14px */
    line-height: 1.25rem !important; /* ≈20px */
  }
}

/* ——————————————————————————————————————————————
   BOTONES PERSONALIZADOS - BTN-PRIMARY Y BTN-SECONDARY
————————————————————————————————————————————— */

/* Botón Primario - Configuración Animada */
.btn-primary {
  position: relative;
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 16px 36px;
  border: 4px solid;
  border-color: transparent;
  font-size: 16px;
  background-color: #1e3a8a;
  border-radius: 100px;
  font-weight: 600;
  color: #e0f2fe;
  box-shadow: 0 0 0 2px #0f172a;
  cursor: pointer;
  overflow: hidden;
  transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
}

.btn-primary svg {
  position: absolute;
  width: 24px;
  fill: #e0f2fe;
  z-index: 9;
  transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
}

.btn-primary .arr-1 {
  right: 16px;
}

.btn-primary .arr-2 {
  left: -25%;
}

.btn-primary .circle {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 20px;
  height: 20px;
  background-color: #3b82f6;
  border-radius: 50%;
  opacity: 0;
  transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
}

.btn-primary .text {
  position: relative;
  z-index: 1;
  transform: translateX(-12px);
  transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
}

.btn-primary:hover {
  box-shadow: 0 0 0 12px transparent;
  color: #ffffff;
  border-radius: 12px;
}

.btn-primary:hover .arr-1 {
  right: -25%;
}

.btn-primary:hover .arr-2 {
  left: 16px;
}

.btn-primary:hover .text {
  transform: translateX(12px);
}

.btn-primary:hover svg {
  fill: #ffffff;
}

.btn-primary:active {
  scale: 0.95;
  box-shadow: 0 0 0 4px #60a5fa;
}

.btn-primary:hover .circle {
  width: 220px;
  height: 220px;
  opacity: 1;
}

/* Botón Secundario - Configuración Moderna */
.btn-secondary {
  cursor: pointer;
  padding: 1em;
  font-size: 1em;
  min-width: 7em;
  
  color: #e0f2fe;
  background: #0f172a;
  background-size: cover;
  background-blend-mode: overlay;
  border-radius: 0.5em;
  outline: 0.1em solid #1e3a8a;
  border: 0;
  box-shadow: 0 0 1em 1em rgba(15, 23, 42, 0.2);
  transition: all 0.3s ease-in-out;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}

.btn-secondary:hover {
  transform: scale(1.1);
  box-shadow: 0 0 1em 0.45em rgba(59, 130, 246, 0.3);
  background: linear-gradient(45deg, #0f172a, #1e293b);
  background: radial-gradient(
    circle at bottom,
    rgba(59, 130, 246, 0.6) 10%,
    #0f172a 70%
  );
  outline: 0;
}

.btn-secondary .icon {
  fill: #e0f2fe;
  width: 1em;
  aspect-ratio: 1;
  top: 0;
  left: 0;
  margin: auto;
  transform: translate(-35%, 10%);
}


</style> 