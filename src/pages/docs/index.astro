---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';

const title = "Documentación HYDRA²¹";
const description = "Documentación técnica completa para HYDRA²¹ - Software de ingeniería hidráulica avanzado";
---

<Layout title={title} description={description}>
  <Header />

  <main class="relative min-h-screen pt-20 lg:pt-24">
    <!-- Background Elements -->
    <div class="fixed inset-0 -z-10">
      <div class="absolute inset-0 diagonal-grid opacity-40"></div>
      <div class="absolute top-20 left-10 w-72 h-72 bg-blue-500/5 rounded-full blur-3xl animate-pulse-slow"></div>
      <div class="absolute bottom-20 right-10 w-96 h-96 bg-cyan-500/5 rounded-full blur-3xl animate-pulse-slow" style="animation-delay: -2s;"></div>
    </div>

    <div class="flex min-h-screen">
      <!-- Enhanced Sidebar -->
      <aside id="docs-sidebar" class="fixed inset-y-0 left-0 z-40 w-80 pt-20 lg:pt-24 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out">
        <div class="h-full glass-effect border-r border-blue-500/20 backdrop-blur-xl">
          <!-- Sidebar Header -->
          <div class="p-6 border-b border-blue-500/10">
            <div class="flex items-center justify-between">
              <div>
                <h2 class="text-xl font-bold gradient-text-blue-cyan">Documentación</h2>
                <p class="text-sm text-gray-400 mt-1">HYDRA²¹ v2.1.0</p>
              </div>
              <div class="flex items-center space-x-2">
                <!-- Search Button -->
                <button id="search-toggle" class="p-2 rounded-lg bg-blue-500/10 hover:bg-blue-500/20 text-blue-400 transition-all duration-200 hover:scale-105">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                  </svg>
                </button>
                <!-- Theme Toggle -->
                <button id="theme-toggle" class="p-2 rounded-lg bg-blue-500/10 hover:bg-blue-500/20 text-blue-400 transition-all duration-200 hover:scale-105">
                  <svg class="w-4 h-4 sun-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                  </svg>
                  <svg class="w-4 h-4 moon-icon hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                  </svg>
                </button>
              </div>
            </div>

            <!-- Search Bar -->
            <div id="search-container" class="mt-4 hidden">
              <div class="relative">
                <input 
                  type="text" 
                  id="search-input" 
                  placeholder="Buscar en documentación..." 
                  class="w-full pl-10 pr-4 py-2 bg-gray-800/50 border border-blue-500/20 rounded-lg text-sm text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50"
                />
                <svg class="absolute left-3 top-2.5 w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
              </div>
            </div>
          </div>

          <!-- Navigation Menu -->
          <nav class="flex-1 p-4 overflow-y-auto custom-scrollbar">
            <!-- Quick Start -->
            <div class="mb-6">
              <h3 class="px-3 mb-3 text-xs font-semibold text-blue-400 uppercase tracking-wider flex items-center">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                </svg>
                Inicio Rápido
              </h3>
              <div class="space-y-1">
                <a href="#introduccion" class="nav-item group flex items-center px-3 py-2.5 text-sm font-medium text-gray-300 rounded-lg hover:text-white hover:bg-blue-500/10 transition-all duration-200">
                  <span class="w-2 h-2 bg-blue-500 rounded-full mr-3 group-hover:scale-125 transition-transform"></span>
                  <span>Introducción</span>
                  <svg class="w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </a>
                <a href="#instalacion" class="nav-item group flex items-center px-3 py-2.5 text-sm font-medium text-gray-300 rounded-lg hover:text-white hover:bg-green-500/10 transition-all duration-200">
                  <span class="w-2 h-2 bg-green-500 rounded-full mr-3 group-hover:scale-125 transition-transform"></span>
                  <span>Instalación</span>
                  <svg class="w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </a>
                <a href="#configuracion" class="nav-item group flex items-center px-3 py-2.5 text-sm font-medium text-gray-300 rounded-lg hover:text-white hover:bg-yellow-500/10 transition-all duration-200">
                  <span class="w-2 h-2 bg-yellow-500 rounded-full mr-3 group-hover:scale-125 transition-transform"></span>
                  <span>Configuración</span>
                  <svg class="w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </a>
              </div>
            </div>

            <!-- Tutorials -->
            <div class="mb-6">
              <h3 class="px-3 mb-3 text-xs font-semibold text-purple-400 uppercase tracking-wider flex items-center">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                </svg>
                Tutoriales
              </h3>
              <div class="space-y-1">
                <a href="#tutorial-basico" class="nav-item group flex items-center px-3 py-2.5 text-sm font-medium text-gray-300 rounded-lg hover:text-white hover:bg-purple-500/10 transition-all duration-200">
                  <span class="w-2 h-2 bg-purple-500 rounded-full mr-3 group-hover:scale-125 transition-transform"></span>
                  <span>Tutorial Básico</span>
                  <svg class="w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </a>
                <a href="#tutorial-avanzado" class="nav-item group flex items-center px-3 py-2.5 text-sm font-medium text-gray-300 rounded-lg hover:text-white hover:bg-red-500/10 transition-all duration-200">
                  <span class="w-2 h-2 bg-red-500 rounded-full mr-3 group-hover:scale-125 transition-transform"></span>
                  <span>Tutorial Avanzado</span>
                  <svg class="w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </a>
                <a href="#casos-uso" class="nav-item group flex items-center px-3 py-2.5 text-sm font-medium text-gray-300 rounded-lg hover:text-white hover:bg-indigo-500/10 transition-all duration-200">
                  <span class="w-2 h-2 bg-indigo-500 rounded-full mr-3 group-hover:scale-125 transition-transform"></span>
                  <span>Casos de Uso</span>
                  <svg class="w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </a>
              </div>
            </div>

            <!-- API Reference -->
            <div class="mb-6">
              <h3 class="px-3 mb-3 text-xs font-semibold text-cyan-400 uppercase tracking-wider flex items-center">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                </svg>
                API Reference
              </h3>
              <div class="space-y-1">
                <a href="#funciones-hidraulicas" class="nav-item group flex items-center px-3 py-2.5 text-sm font-medium text-gray-300 rounded-lg hover:text-white hover:bg-cyan-500/10 transition-all duration-200">
                  <span class="w-2 h-2 bg-cyan-500 rounded-full mr-3 group-hover:scale-125 transition-transform"></span>
                  <span>Funciones Hidráulicas</span>
                  <svg class="w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </a>
                <a href="#funciones-red" class="nav-item group flex items-center px-3 py-2.5 text-sm font-medium text-gray-300 rounded-lg hover:text-white hover:bg-orange-500/10 transition-all duration-200">
                  <span class="w-2 h-2 bg-orange-500 rounded-full mr-3 group-hover:scale-125 transition-transform"></span>
                  <span>Funciones de Red</span>
                  <svg class="w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </a>
                <a href="#ejemplos-codigo" class="nav-item group flex items-center px-3 py-2.5 text-sm font-medium text-gray-300 rounded-lg hover:text-white hover:bg-pink-500/10 transition-all duration-200">
                  <span class="w-2 h-2 bg-pink-500 rounded-full mr-3 group-hover:scale-125 transition-transform"></span>
                  <span>Ejemplos de Código</span>
                  <svg class="w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </a>
              </div>
            </div>

            <!-- Help & Support -->
            <div class="mb-6">
              <h3 class="px-3 mb-3 text-xs font-semibold text-gray-400 uppercase tracking-wider flex items-center">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                Ayuda y Soporte
              </h3>
              <div class="space-y-1">
                <a href="#faq" class="nav-item group flex items-center px-3 py-2.5 text-sm font-medium text-gray-300 rounded-lg hover:text-white hover:bg-gray-500/10 transition-all duration-200">
                  <span class="w-2 h-2 bg-gray-500 rounded-full mr-3 group-hover:scale-125 transition-transform"></span>
                  <span>Preguntas Frecuentes</span>
                  <svg class="w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </a>
                <a href="#soporte-tecnico" class="nav-item group flex items-center px-3 py-2.5 text-sm font-medium text-gray-300 rounded-lg hover:text-white hover:bg-emerald-500/10 transition-all duration-200">
                  <span class="w-2 h-2 bg-emerald-500 rounded-full mr-3 group-hover:scale-125 transition-transform"></span>
                  <span>Soporte Técnico</span>
                  <svg class="w-4 h-4 ml-auto opacity-0 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </a>
              </div>
            </div>

            <!-- Progress Indicator -->
            <div class="mt-8 p-4 bg-blue-500/5 rounded-lg border border-blue-500/20">
              <div class="flex items-center justify-between mb-2">
                <span class="text-xs font-medium text-blue-400">Progreso de Lectura</span>
                <span id="reading-progress" class="text-xs text-gray-400">0%</span>
              </div>
              <div class="w-full bg-gray-700 rounded-full h-1.5">
                <div id="progress-bar" class="bg-gradient-to-r from-blue-500 to-cyan-500 h-1.5 rounded-full transition-all duration-300" style="width: 0%"></div>
              </div>
            </div>
          </nav>
        </div>
      </aside>

      <!-- Mobile menu button -->
      <button id="mobile-menu-toggle" class="fixed top-24 left-4 z-50 lg:hidden p-3 rounded-lg glass-effect border border-blue-500/20 text-blue-400 hover:text-white hover:bg-blue-500/10 transition-all duration-200">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>

      <!-- Mobile overlay -->
      <div id="mobile-overlay" class="fixed inset-0 z-30 bg-black/50 backdrop-blur-sm lg:hidden hidden"></div>

      <!-- Main Content -->
      <div class="flex-1 lg:ml-80">
        <div class="container mx-auto px-4 lg:px-8 py-8 max-w-5xl">
          
          <!-- Floating Table of Contents -->
          <div id="toc-container" class="hidden xl:block fixed right-8 top-1/2 transform -translate-y-1/2 z-30">
            <div class="glass-effect border border-blue-500/20 rounded-xl p-4 max-w-xs">
              <h4 class="text-sm font-semibold text-blue-400 mb-3 flex items-center">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="