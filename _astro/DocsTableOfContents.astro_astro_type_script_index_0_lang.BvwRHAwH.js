document.addEventListener("astro:page-load",()=>{const a=document.querySelectorAll("h2[id], h3[id]"),n=document.querySelectorAll("[data-heading-id]");if(a.length===0||n.length===0)return;const i=new IntersectionObserver(t=>{t.forEach(o=>{const e=o.target.getAttribute("id"),r=document.querySelector(`[data-heading-id="${e}"]`);o.isIntersecting&&(n.forEach(c=>c.classList.remove("active")),r?.classList.add("active"))})},{rootMargin:"-20% 0% -35% 0%",threshold:0});a.forEach(t=>{i.observe(t)}),n.forEach(t=>{t.addEventListener("click",o=>{o.preventDefault();const e=t.getAttribute("data-heading-id");if(e){const r=document.getElementById(e);r&&(r.scrollIntoView({behavior:"smooth",block:"start"}),history.pushState(null,"",`#${e}`))}})})});
